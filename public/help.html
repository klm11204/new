// Import the necessary modules
import Script from "next/script";

// Inside your component's JSX
<div className="your-video-container">
  <Script strategy="beforeInteractive">
    {`
      // Load the YouTube iframe API
      if (typeof window !== 'undefined') {
        const tag = document.createElement('script');
        tag.src = 'https://www.youtube.com/iframe_api';
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      }
    `}
  </Script>
  <div id="youtube-player"></div>

  <Script strategy="afterInteractive">
    {`
      // Create an instance of the YouTube player
      let player;

      function onYouTubeIframeAPIReady() {
        player = new YT.Player('youtube-player', {
          height: '360',
          width: '640',
          videoId: 'b3HN2wzIdj0',
          playerVars: {
            // Optional parameters
            autoplay: 0, // Set to 1 for autoplay
            controls: 1, // Show video controls
            loop: 0, // Set to 1 for loop
          },
          events: {
            // Optional events
            onReady: onPlayerReady,
            onStateChange: onPlayerStateChange,
          },
        });
      }

      function onPlayerReady(event) {
        // Perform actions when the player is ready
      }

      function onPlayerStateChange(event) {
        // Perform actions when the player state changes
      }
    `}
  </Script>
</div>
